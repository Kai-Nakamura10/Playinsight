<h2>保存済みの動画</h2>
<ul>
  <% @videos.each do |v| %>
    <li style="margin-bottom:1rem;">
      <div><strong><%= v.title %></strong> /<%= v.description %> /<%= v.visibility %> / <%= v.duration_seconds %>秒</div>

      <%# サムネイルが付いていれば表示 %>
      <% poster_url = v.thumbnail.attached? ? url_for(v.thumbnail) : nil %>
      <% if poster_url %>
        <div>
          <%= image_tag poster_url, alt: "#{v.title} thumbnail", width: 240 %>
        </div>
      <% end %>

      <%# 動画ファイルが付いていればそのまま再生 %>
      <% if v.file.attached? %>
        <div>
          <%= video_tag url_for(v.file), controls: true, width: 480, poster: poster_url %>
        </div>
      <% else %>
        <em>動画ファイル未添付</em>
      <% end %>

      <div style="font-size:12px;color:#666;">保存日時: <%= v.created_at %></div>
    </li>
  <% end %>
</ul>
<%=link_to "動画を投稿", new_video_path, class: 'text-gray-800 px-4 py-2 rounded hover:bg-gray-200 cursor-pointer' %>
